diff --git i/Cakefile.js w/Cakefile.js
index 63532f7..39c3036 100644
--- i/Cakefile.js
+++ w/Cakefile.js
@@ -81,8 +81,17 @@ var visitDirectory = (directory, visitor) =>
     return visitor(filepath);
   });
 task('build', 'compile all coffeescript files to javascript', () => {
-  const coffee = spawn('coffee', ['-c', __dirname]);
-  return coffee.on('exit', returnCode => process.exit(returnCode));
+  const stdout = child_process.execSync('./node_modules/.bin/babel src -d .');
+  for (let line of stdout.toString().split('\n')) {
+    line = line.trim();
+    if (line) {
+      const outPath = line.split(' ')[2];
+      console.log(`Fixing file ${outPath}`);
+      let contents = fs.readFileSync(outPath);
+      contents = `;(function() {\n${contents};\n})();`;
+      fs.writeFileSync(outPath, contents);
+    }
+  }
 });

 task('clean', 'removes any js files which were compiled from coffeescript', () =>
diff --git i/pages/hud.html w/pages/hud.html
index 9532afc..4acf507 100644
--- i/pages/hud.html
+++ w/pages/hud.html
@@ -2,6 +2,7 @@
   <head>
     <title>HUD</title>
     <link rel="stylesheet" type="text/css" href="../content_scripts/vimium.css" />
+    <script type="text/javascript" src="../node_modules/babel-polyfill/dist/polyfill.js"></script>
     <script type="text/javascript" src="../lib/utils.js"></script>
     <script type="text/javascript" src="../lib/dom_utils.js"></script>
     <script type="text/javascript" src="../lib/settings.js"></script>
     <script type="text/javascript" src="../lib/keyboard_utils.js"></script>
diff --git i/pages/vomnibar.html w/pages/vomnibar.html
index 87acc08..392c03f 100644
--- i/pages/vomnibar.html
+++ w/pages/vomnibar.html
@@ -1,6 +1,7 @@
 <html>
   <head>
     <title>Vomnibar</title>
+    <script type="text/javascript" src="../node_modules/babel-polyfill/dist/polyfill.js"></script>
     <script type="text/javascript" src="../lib/utils.js"></script>
     <script type="text/javascript" src="../lib/settings.js"></script>
     <script type="text/javascript" src="../lib/keyboard_utils.js"></script>
     <script type="text/javascript" src="../lib/dom_utils.js"></script>
diff --git i/tests/dom_tests/dom_tests.html w/tests/dom_tests/dom_tests.html
index d2e795d..78a7e77 100644
--- i/tests/dom_tests/dom_tests.html
+++ w/tests/dom_tests/dom_tests.html
@@ -29,6 +29,7 @@
     <link rel="stylesheet" type="text/css" href="../../content_scripts/vimium.css" />
     <script type="text/javascript" src="bind.js"></script>
     <script type="text/javascript" src="chrome.js"></script>
+    <script type="text/javascript" src="../../node_modules/babel-polyfill/dist/polyfill.js"></script>
     <script type="text/javascript" src="../../lib/utils.js"></script>
     <script type="text/javascript" src="../../lib/keyboard_utils.js"></script>
     <script type="text/javascript" src="../../lib/dom_utils.js"></script>
